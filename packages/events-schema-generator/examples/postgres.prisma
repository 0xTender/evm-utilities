generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["contract", "event"]
}

model Contract {
  id Int @id @default(autoincrement())

  name String

  address         String
  chainId         Int
  transactionHash String

  deploymentBlock  Int
  indexedTillBlock Int

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  Event     Event[]

  @@schema("contract")
}

model Event {
  id         Int      @id @default(autoincrement())
  Contract   Contract @relation(fields: [ContractId], references: [id])
  ContractId Int

  block           Int
  transactionHash String
  logIndex        Int
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  E_AdminModified_AccessControl E_AdminModified_AccessControl[]

  E_OwnershipTransferred_AccessControl E_OwnershipTransferred_AccessControl[]

  E_AdminModified_Candy E_AdminModified_Candy[]

  E_Approval_Candy E_Approval_Candy[]

  E_ApprovalForAll_Candy E_ApprovalForAll_Candy[]

  E_OwnershipTransferred_Candy E_OwnershipTransferred_Candy[]

  E_Transfer_Candy E_Transfer_Candy[]

  E_AdminModified_ActorFactory E_AdminModified_ActorFactory[]

  E_OwnershipTransferred_ActorFactory E_OwnershipTransferred_ActorFactory[]

  E_AdminModified_Registry E_AdminModified_Registry[]

  E_ChangeActorState_Registry E_ChangeActorState_Registry[]

  E_FactoryAddressChanged_Registry E_FactoryAddressChanged_Registry[]

  E_OwnershipTransferred_Registry E_OwnershipTransferred_Registry[]

  E_RegisterActor_Registry E_RegisterActor_Registry[]

  @@schema("event")
}

model E_AdminModified_AccessControl {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_OwnershipTransferred_AccessControl {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_AdminModified_Candy {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_Approval_Candy {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_ApprovalForAll_Candy {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_OwnershipTransferred_Candy {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_Transfer_Candy {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_AdminModified_ActorFactory {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_OwnershipTransferred_ActorFactory {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_AdminModified_Registry {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_ChangeActorState_Registry {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_FactoryAddressChanged_Registry {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_OwnershipTransferred_Registry {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}

model E_RegisterActor_Registry {
  id      Int    @id @default(autoincrement())
  Event   Event? @relation(fields: [eventId], references: [id])
  eventId Int?   @unique

  @@schema("event")
}
